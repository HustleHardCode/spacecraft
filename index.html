<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Phaser - Making your first game, part 8</title>
    <script type="text/javascript" src="libs/ace/ace.js" charset="utf-8"></script>
    <script type="text/javascript" src="libs/phaser.min.js" charset="utf-8"></script>
    <style type="text/css">
        body {
            margin: 0;
        }

        #editor {
            position: fixed;
            top: 0;
            right: 0;
            bottom: 50%;
            left: 50%;
            border-bottom: solid #282A2E 5px;
            border-bottom-left-radius: 4px;
            border-bottom-right-radius: 4px;
        }

        #game {
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
        }

    </style>
</head>

<body style="overflow: hidden;">

<div id="game"></div>

<div id="editor">
    function foo(items) {
    var x = "All this is syntax highlighted";
    return x;
    }
</div>

<script type="text/javascript">

    var editor = ace.edit("editor");
    var spaceCraft;

    editor.setTheme("ace/theme/tomorrow_night");
    editor.getSession().setMode("ace/mode/javascript");

    var game = new Phaser.Game(800, 600, Phaser.AUTO, 'game', {init: init, preload: preload, create: create, update: update});

    function init()
    {
//        game.scale.scaleMode = Phaser.ScaleManager.RESIZE;
    }

    function preload()
    {
        game.load.image('starField', 'assets/starField.png');
        game.load.image('spaceCraft', 'assets/spaceCraft.png');
    }

    function create()
    {
        game.physics.startSystem(Phaser.Physics.ARCADE);

        //  Resize our game world to be a 2000 x 2000 square
        game.world.setBounds(-1000, -1000, 2000, 2000);

        var starField = game.add.tileSprite(0, 0, 800, 600, 'starField');
        starField.fixedToCamera = true;

        //  The base of our spacecraft
        spaceCraft = game.add.sprite(0, 0, 'spaceCraft');
        spaceCraft.anchor.setTo(0.5, 0.5);
        spaceCraft.scale.setTo(0.5, 0.5);

        //  We need to enable physics on the player
        game.physics.arcade.enable(spaceCraft);

        game.camera.follow(spaceCraft);
        game.camera.deadzone = new Phaser.Rectangle(150, 150, 500, 300);
        game.camera.focusOnXY(0, 0);
    }

    function update()
    {
        //  Move to the left
        spaceCraft.body.velocity.x = -50;
    }

</script>

</body>

</html>
