<div>
	<div ui-layout="{ flow : 'column',  dividerSize: 4, disableToggle: true}"
		 class="ui-layout-custom">

		<!-- Директива урока -->
		<div ui-layout-container
			 min-size="30%"
			 max-size="70%"
			 size="50%">
			<div diagram-board ng-if="showDiagram">
			</div>
			<div lesson-board
				 ng-if="lesson.sub[subIndex]"
				 lesson="lesson.sub[subIndex]"
				 ng-show="showTextContent">
			</div>
			<div settings
				 ng-show="showSettings"></div>
		</div>

		<div ui-layout-container
			 min-size="30%"
			 max-size="70%"
			 ng-hide="hideEditor">

			<div class="main-editor"
				 ui-ace="{
			 	useWrapMode : true,
				showGutter: true,
				theme:'tomorrow_night',
				mode: 'javascript',
				firstLineNumber: 1,
				onLoad: aceLoaded,
				onChange: aceChanged
				}">
			</div>

			<!-- Директива ошибки -->
			<div bbot-board
				 ng-if="lesson.sub[subIndex]"
				 text-bot="textBot"
				 quote="lesson.quote"
				 lesson="true"
				 css="botCss"
				 next="nextSubLesson">
			</div>

		</div>
	</div>
</div>


<!-- Вывод статистики по окончанию урока -->
<div statistics-lesson-end
	 lesson="getCurrentLesson()"
	 ng-if="isStarsVisiable"></div>

<!-- Директива игры -->
<div game-canvas
	 class="lesson-canvas"
	 hide-dhs="char.css"></div>

<div class="right-toolbar">

	<div class="right-toolbar-button right-toolbar-icon" ui-sref="welcome"></div>

	<div class="right-toolbar-button glyphicon enhoyhint-play"
		 tooltip-placement="left"
		 tooltip-append-to-body="true"
		 uib-tooltip="{{CodeLauncher.isCodeRunning ? 'Остановить скрипт' : 'Запустить скрипт'}}"
		 ng-show="curretSubLesson.interpreterHandler || curretSubLesson.gamePostUpdate"
		 ng-click="toggleCodeRun()"
		 ng-class="{'glyphicon-stop right-toolbar-red': CodeLauncher.isCodeRunning, 'glyphicon-play right-toolbar-green' : !CodeLauncher.isCodeRunning}" >
	</div>

	<div class="right-toolbar-new-group right-toolbar-button glyphicon"
		 tooltip-placement="left"
		 tooltip-append-to-body="true"
		 uib-tooltip="{{hideEditor ? 'Показать редактор кода' : 'Убрать редактор кода'}}"
		 ng-click="toggleEditorOpen()"
		 ng-class="{'glyphicon-chevron-right': !hideEditor, 'glyphicon-chevron-left' : hideEditor}"></div>

	<div class="right-toolbar-button glyphicon glyphicon-list-alt lesson-alt-hint"
		 tooltip-placement="left"
		 tooltip-append-to-body="true"
		 uib-tooltip="{{showTextContent ? 'Скрыть текстовые инструкции' : 'Показать текстовые инструкции'}}"
		 ng-click="toggleTextContent()"
		 ng-class="{'glyphicon-chevron-right' : showTextContent}"></div>

	<div class="right-toolbar-button glyphicon"
		 tooltip-placement="left"
		 tooltip-append-to-body="true"
		 uib-tooltip="{{showDiagram ? 'Скрыть диаграмму' : 'Показать диаграмму'}}"
		 ng-click="toggleDiagram()"
		 ng-show="isLessonWithDiagram()"
		 ng-class="{'glyphicon-chevron-right' : showDiagram, 'glyphicon-object-align-vertical' : !showDiagram}"></div>

	<div class="right-toolbar-new-group right-toolbar-button glyphicon glyphicon-wrench"
		 tooltip-placement="left"
		 tooltip-append-to-body="true"
		 uib-tooltip="{{showSettings ? 'Скрыть настройки' : 'Показать настройки'}}"
		 ng-click="toggleSettings()"
		 ng-class="{'glyphicon-chevron-right' : showSettings}"></div>

	<div class="right-toolbar-button glyphicon glyphicon-fast-backward"
		 tooltip-placement="left"
		 tooltip-append-to-body="true"
		 uib-tooltip="Повторить инструкции"
		 ng-click="previousAudio()"></div>

	<div class="right-toolbar-button glyphicon"
		 tooltip-placement="left"
		 tooltip-append-to-body="true"
		 uib-tooltip="{{audioPause ? 'Запустить инструкцию' : 'Остановить инструкцию'}}"
		 ng-click="toggleAudioPause()"
		 ng-class="{'glyphicon-play' : audioPause, 'glyphicon-pause' : !audioPause}"></div>

</div>

<div class="lesson-img-wrapper">
	<div ng-class="char.css"></div>
</div>

