<div class="login-background"></div>
<div ng-cloak
	 class="login-landing">
	<div class="login-container login-main">
		<div class="login-vertical-center">
			<div class="login-left-container">
				<div class="login-img">
					<img class="login-logo" src="images/logo.png"/>
				</div>
				<div class="login-title">СРАЖАЙСЯ. УЧИСЬ. СОВЕРШЕНСТВУЙСЯ.</div>
				<div class="login-sub-title">Запрограммируй свой космический корабль и сражайся с другими игроками
					онлайн!
				</div>
			</div>

			<div class="login-right-container">
				<div class="login-input-title">
					{{isEnterForm ? "Войдите в систему:" : "Зарегистрируйтесь в системе:"}}
				</div>

				<form name="loginForm"
					  class="login-form"
					  ng-submit="isEnterForm ? login() : register()"
					  novalidate>
					<div class="login-input">
						<label>
							<input type="email"
								   name="email"
								   ng-model="email"
								   class="login-email"
								   placeholder="Email"
								   ng-minlength="8"
								   ng-maxlength="60"
								   ng-model-options="{ allowInvalid: true }"
								   ng-change="loginForm.$submitted = false;
											  errorMessage = null;"
								   required=""
								   validate-email>
						</label>
					</div>

					<div class="login-input">
						<label>
							<input type="password"
								   name="password"
								   ng-model="password"
								   placeholder="Пароль"
								   ng-minlength="8"
								   ng-maxlength="60"
								   ng-model-options="{ allowInvalid: true }"
								   ng-change="loginForm.$submitted = false;
											  errorMessage = null;"
								   required="">
						</label>
					</div>

					<div class="login-button-group">

						<button type="submit">
							<span>OK</span>
						</button>

						<button type="button"
								class="float-right"
								ng-click="changeForm();">
							<span>{{!isEnterForm ? "Вход" : "Регистрация"}}</span>
						</button>

						<div ng-show="isEnterForm" class="vk-button">
							<a href="/vk">
								<span>Войти через ВКонтакте</span>
							</a>
						</div>

					</div>

					<div class="login-input login-checkbox">
						<div ng-show="!isEnterForm"
							 class="login-checkbox-title" ng-click=changeSubscribe()>
						<span ng-class="{'glyphicon glyphicon-check' : isSubscribeOnEmail,
										 'glyphicon glyphicon-unchecked' : !isSubscribeOnEmail}">
						</span>
							получать звёздные новости на e-mail
						</div>
					</div>

				</form>

				<!--Раздел вывода сообщения об ошибочной ситуации заполнения формы или состояния регистрации/авторизации
                на сервере
                Если форма была отправлена-->
				<div class="login-input-title login-error">

					<!--Если форма не валидна-->
					<div ng-if="loginForm.$submitted && loginForm.$invalid"
						 ng-messages="loginForm.$error">

						<div ng-message="email">Пожалуйста, укажите корректный email</div>
						<div ng-message="minlength">Длина поля должна быть не менее 8 символов</div>
						<div ng-message="maxlength">Длина поля должна быть не более 60 символов</div>
						<div ng-message="required">Пожалуйста, заполните все поля</div>

					</div>

					<!--Отображаем сообщение об ошибке из контроллера только в случае, когда с формой все впорядке.
                        В противном случае, пользователю уже будет показываться сообщение о проблеме с заполнением формы.-->
					<div ng-if="loginForm.$valid">
						{{errorMessage}}
					</div>

				</div>

			</div>
		</div>
	</div>
	<div class="login-container login-about">
		<div class="login-about-block">
			<div class="login-about-img">
				<img src="images/pages/login/stars.png">
			</div>
			<div class="login-about-title">Совершенствуй навыки</div>
			<div class="login-about-description">Изучай языки программирования, сражаясь в космических баталиях</div>
		</div>
		<div class="login-about-block">
			<div class="login-about-img">
				<img src="images/pages/login/astronaut.png">
			</div>
			<div class="login-about-title">Играй в онлайне</div>
			<div class="login-about-description">Соревнуйся с другими игроками в онлайне, захватывай планеты, создавай
				альянсы
			</div>
		</div>
		<div class="login-about-block">
			<div class="login-about-img">
				<img src="images/pages/login/rocket.png">
			</div>
			<div class="login-about-title">Найди работу</div>
			<div class="login-about-description">Пройди стажировку в лучших it-компаниях</div>
		</div>
		<div class="login-about-block">
			<div class="login-about-img">
				<img src="images/pages/login/alien.png">
			</div>
			<div class="login-about-title">Создай свой корабль</div>
			<div class="login-about-description">Добавь модули к своему космическому кораблю и запрограммируй их</div>
		</div>
	</div>
	<div class="login-container login-question">
		<div class="login-vertical-center">
			<div class="login-title">Хотите научиться программировать, но это чертовски сложно?</div>
			<div class="login-sub-title">Мы превратим обучение в фантастическое приключение</div>
		</div>
	</div>
	<div class="login-container login-footer">
		<div class="login-copyright">© Copyright SpaceCraft™ 2017. All rights reserved.</div>
		<div class="login-vk"><a href="https://vk.com/spacecrafter">Мы в ВК</a></div>
	</div>
</div>
